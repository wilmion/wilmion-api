(()=>{"use strict";var e={141:function(e,t,n){var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateContentSchema=t.ContentSchema=t.querySchema=void 0;var a=i(n(8414)),o=n(5033),u=n(8416),s=(r=a.default.string()).valid.apply(r,(0,o.ToArray)(u.TypeContent)),c=a.default.string().min(1),l=a.default.string(),d=a.default.string();t.querySchema={limit:a.default.number(),offset:a.default.number().min(0),post_id:a.default.string()},t.ContentSchema={type:s.required(),content:c.required(),imageId:l.required(),postId:d.required()},t.UpdateContentSchema={type:s,content:c,imageId:l}},8589:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.querySchema=t.idRouteSchema=t.idSchema=void 0;var i=r(n(8414));t.idSchema=i.default.string();var a=i.default.number().min(0).positive(),o=i.default.number().min(0).positive();t.idRouteSchema={id:t.idSchema.required()},t.querySchema={limit:a,offset:o}},4599:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.imageSchema=void 0;var i=r(n(8414)).default.string().min(4);t.imageSchema={size:i.required()}},9949:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateJobSchema=t.JobSchema=void 0;var i=r(n(8414)),a=i.default.string().min(5).max(50),o=i.default.string().min(20),u=i.default.string(),s=i.default.boolean(),c=i.default.string(),l=i.default.string(),d=i.default.string(),f=i.default.string(),h=i.default.string().min(1);t.JobSchema={nameBusinness:a.required(),color:u.required(),description:o.required(),active:s.required(),role:c.required(),from:l.required(),to:d.required(),function1:f,function2:f,function3:f,function4:f,imageId:h.required()},t.UpdateJobSchema={nameBusinness:a,color:u,description:o,active:s,role:c,from:l,to:d,function1:f,function2:f,function3:f,function4:f,imageId:h}},3593:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatePostSchema=t.postSchema=void 0;var i=r(n(8414)),a=i.default.string().min(5),o=i.default.array().items(i.default.string());t.postSchema={title:a.required(),tagsId:o.required()},t.UpdatePostSchema={title:a,tagsId:o}},6197:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateProjectSchema=t.projectSchema=void 0;var i=r(n(8414)),a=i.default.string().min(4),o=i.default.string().min(10),u=i.default.string().uri(),s=i.default.string().uri(),c=i.default.string().uri(),l=i.default.string().uri(),d=i.default.string().uri(),f=i.default.string(),h=i.default.array().items(i.default.string());t.projectSchema={name:a.required(),description:o.required(),linkFrontend:u.required(),linkBackend:s,linkBlog:c,linkFigma:l,linkRepository:d.required(),imageId:f.required(),skillsIds:h.required()},t.updateProjectSchema={name:a,description:o,linkFrontend:u,linkBackend:s,linkBlog:c,linkFigma:l,linkRepository:d,imageId:f,skillsIds:h}},2603:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSkillSchema=t.skillSchema=void 0;var i=r(n(8414)),a=i.default.string().min(4),o=i.default.string().hex(),u=i.default.string().hex(),s=i.default.string(),c=i.default.string();t.skillSchema={name:a.required(),backgroundColor:o.required(),iconColor:u.required(),icon:s,imageId:c},t.updateSkillSchema={name:a,backgroundColor:o,iconColor:u,icon:s,imageId:c}},1582:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSocialMediaSchema=t.socialMediaSchema=void 0;var i=r(n(8414)),a=i.default.string().min(4),o=i.default.string(),u=i.default.string().hex(),s=i.default.string().uri();t.socialMediaSchema={name:a.required(),icon:o.required(),color:u.required(),redirectUrl:s.required()},t.updateSocialMediaSchema={name:a,icon:o,color:u,redirectUrl:s}},3376:function(e,t,n){var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.querySchema=t.statSchema=void 0;var a=i(n(8414)),o=n(5642),u=n(5033),s=(r=a.default.string()).valid.apply(r,(0,u.ToArray)(o.TypeStat));t.statSchema={type:s.required()},t.querySchema={limit:a.default.number().min(0),offset:a.default.number().min(0),type:s}},1067:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pageParamSchema=t.staticContentUpdateSchema=t.staticContentSchema=void 0;var i=r(n(8414)),a=n(3447),o=i.default.string().min(20),u=i.default.string().min(20);t.staticContentSchema={introduction:o.required(),responseQuestion:u.required(),contactEmail:a.emailSchema},t.staticContentUpdateSchema={introduction:o,responseQuestion:u,contactEmail:a.emailSchema},t.pageParamSchema={page:i.default.string().valid("contact")}},1015:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTagSchema=t.tagSchema=void 0;var i=r(n(8414)),a=i.default.string().hex(),o=i.default.string().min(5).max(35);t.tagSchema={color:a.required(),text:o.required()},t.UpdateTagSchema={color:a,text:o}},3447:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.updatePasswordSchema=t.loginSchema=t.UserUpdateSchema=t.UserSchenma=t.imageIdSchema=t.jobSchema=t.nameSchema=t.usernameSchema=t.passwordSchema=t.emailSchema=void 0;var o=a(n(8414));t.emailSchema=o.string().email(),t.passwordSchema=o.string().min(8),t.usernameSchema=o.string().min(4).max(100),t.nameSchema=o.string().min(1).max(100),t.jobSchema=o.string().min(5).max(50),t.imageIdSchema=o.number(),t.UserSchenma={username:t.usernameSchema.required(),password:t.passwordSchema.required(),name:t.nameSchema.required(),job:t.jobSchema.required(),email:t.emailSchema.required(),imageId:t.imageIdSchema.required()},t.UserUpdateSchema={username:t.usernameSchema,name:t.nameSchema,job:t.jobSchema,email:t.emailSchema,imageId:t.imageIdSchema},t.loginSchema={email:t.emailSchema.required(),password:t.passwordSchema.required()},t.updatePasswordSchema={oldPassword:t.passwordSchema.required(),newPassword:t.passwordSchema.required()}},2275:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5142)).default.config({path:".env"});var i={mode:"PROD",typeorm:{url:process.env.DATABASE_URL},port:process.env.PORT||5e3,hostAllowedList:process.env.HOSTALLOWEDLIST.split(" "),encryption:{saltRounds:parseInt(process.env.ENCRYPTION_SALT_ROUNDS,10)},jwt:{secret:process.env.JWT_SECRET},firebaseConfig:{apiKey:process.env.APIKEY,authDomain:process.env.AUTHDOMAIN,projectId:process.env.PROJECTID,storageBucket:process.env.STORAGEBUCKET,messagingSenderId:process.env.MESSAGINGSENDERID,appId:process.env.APPID,measurementId:process.env.MEASUREMENTID}};t.default=i},4207:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(141),f=n(4890),h=a(n(178)),p=(0,o.Router)(),v=new f.ContentService;p.get("/",(0,s.validateHandler)(d.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,u=r.post_id,[4,v.getAll(a,o,u)];case 1:return s=i.sent(),(0,h.default)(t,200,s,"The data traveled successfull"),[3,3];case 2:return c=i.sent(),n(c),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfull"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.ContentSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"The content with post ID ".concat(r.postId," has been successfully created 🥣🧂")),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(0,s.validateHandler)(d.UpdateContentSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The content was updated 💓"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The content has been removed from database 📅"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},1869:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(5784),c=n(4599),l=n(8589),d=n(7058),f=n(9683),h=a(n(178)),p=(0,o.Router)(),v=new s.ImageService;p.get("/",(0,d.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,v.getAll(a,o)];case 1:return u=i.sent(),(0,h.default)(t,200,u,"Data traveled successfully"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,d.validateHandler)(l.idRouteSchema,"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"This is an image"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.get("/by-md5/:id",(0,d.validateHandler)(l.idRouteSchema,"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getByMd5(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"This is an image"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,f.validatePermision)(["admin"]),(0,d.validateHandler)(c.imageSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,a=e.files,[4,v.create(r,a.image)];case 1:return o=i.sent(),(0,h.default)(t,201,o,"Insert Image in the database"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,f.validatePermision)(["admin"]),(0,d.validateHandler)(l.idRouteSchema,"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The Image with ID ".concat(r," has removed")),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},7140:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(9597),f=a(n(178)),h=(0,o.Router)(),p=new d.IpsUserService;h.get("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,p.getAll(a,o)];case 1:return u=i.sent(),(0,f.default)(t,200,u,"The data traveled successfull ✈️🛫🛬"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),h.get("/my-ip",(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.header("x-forwarded-for")||e.connection.remoteAddress,[4,p.getByIp(r)];case 1:return a=i.sent(),(0,f.default)(t,200,a,"The data traveled successfull ✈️🛫🛬"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),h.post("/",(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.header("x-forwarded-for")||e.connection.remoteAddress,[4,p.create({ip:r})];case 1:return a=i.sent(),(0,f.default)(t,201,a,"🚲🚴‍♀️🚴‍♂️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=h},4879:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(9949),f=n(3139),h=a(n(178)),p=(0,o.Router)(),v=new f.JobsService;p.get("/",(function(e,t,n){return r(void 0,void 0,void 0,(function(){var e,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,v.getAll()];case 1:return e=i.sent(),(0,h.default)(t,200,e,"The data traveled successfull"),[3,3];case 2:return r=i.sent(),n(r),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled sucessfull"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.JobSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"Job successfull created 💪🧑‍🏭"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(0,s.validateHandler)(d.UpdateJobSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,a=e.params.id,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The job with ID ".concat(a," was updated with successful")),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.post("/activate/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.activate(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The job was successfull activate"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.deactivate(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The job was successfull deactivate"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},4930:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(3593),f=n(7440),h=n(1060),p=a(n(178)),v=(0,o.Router)(),y=new f.PostsService,b=new h.DatePostsWithIpsService;v.get("/",(0,s.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,y.getAll(a,o)];case 1:return u=i.sent(),(0,p.default)(t,200,u,"Data traveled successfull"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),v.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,y.getById(r)];case 1:return a=i.sent(),(0,p.default)(t,200,a,"Data traveled successfull"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),v.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.postSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.user,a=e.body,[4,y.create(a,r.id)];case 1:return o=i.sent(),(0,p.default)(t,201,o,"The post has been created 🍻"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),v.post("/like/:id",(0,s.validateHandler)({id:l.idSchema},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.header("x-forwarded-for")||e.connection.remoteAddress,[4,b.setLike(!0,r,a)];case 1:return o=i.sent(),(0,p.default)(t,201,o,"Just, the post was liked for you 💓😻"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),v.post("/dislike/:id",(0,s.validateHandler)({id:l.idSchema},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.header("x-forwarded-for")||e.connection.remoteAddress,[4,b.setLike(!1,r,a)];case 1:return o=i.sent(),(0,p.default)(t,201,o,"Ohh , we lament that you dislike this post"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),v.post("/view/:id",(0,s.validateHandler)({id:l.idSchema},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.header("x-forwarded-for")||e.connection.remoteAddress,[4,b.incrementView(r,a)];case 1:return o=i.sent(),(0,p.default)(t,201,o,"Do you like this post? 👀"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),v.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.UpdatePostSchema),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,y.update(a,r)];case 1:return o=i.sent(),(0,p.default)(t,200,o,"The post has been updated ⚒️"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),v.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,y.delete(r)];case 1:return a=i.sent(),(0,p.default)(t,200,a,"The post has been deleted 🚆"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=v},6124:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(6197),f=n(6795),h=a(n(178)),p=(0,o.Router)(),v=new f.ProjectService;p.get("/",(function(e,t,n){return r(void 0,void 0,void 0,(function(){var e,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,v.getAll()];case 1:return e=i.sent(),(0,h.default)(t,200,e,"The data traveled successfull 🛬🛫✈️"),[3,3];case 2:return r=i.sent(),n(r),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfull 🛬🛫✈️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.projectSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"The project has been created now 📽️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.updateProjectSchema),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The project has been updated 🆙"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.post("/activate/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.activateProject(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The project reactivate! 😁😸🙌"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The project has been deleted ☹️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},3941:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(2603),f=n(7444),h=a(n(178)),p=(0,o.Router)(),v=new f.SkillService;p.get("/",(0,s.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,v.getAll(a,o)];case 1:return u=i.sent(),(0,h.default)(t,200,u,"The data traveled successfully 🛩️"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),p.get("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfully 🛩️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.skillSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"The skill has created 🎳🎳"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(0,s.validateHandler)(d.updateSkillSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The skill has updated 👍"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The skill has removed 😔 ID: "+r),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},9101:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(1582),f=n(1307),h=a(n(178)),p=(0,o.Router)(),v=new f.SocialMediaService;p.get("/",(0,s.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,v.getAll(a,o)];case 1:return u=i.sent(),(0,h.default)(t,200,u,"The data traveled successfully 🛬🛫✈️"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfully 🛬🛫✈️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.socialMediaSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"The social media has been created 😎😎"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(0,s.validateHandler)(d.updateSocialMediaSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The social media has been updated 😎😎"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The social media with Id ".concat(r," has been removed ☹️")),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},7963:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=a(n(3767)),c=n(9683),l=n(7058),d=n(1067),f=n(8589),h=n(1200),p=a(n(178)),v=(0,o.Router)(),y=new h.StaticContentsService;v.get("/",(0,l.validateHandler)(f.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,y.getAll(a,o)];case 1:return u=i.sent(),(0,p.default)(t,200,u,"Data traveled successfully"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),v.get("/:page",(0,l.validateHandler)(d.pageParamSchema,"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.page,[4,y.getOne(r)];case 1:if(!(a=i.sent()))throw s.default.notFound("The ".concat(r," page does not exist"));return(0,p.default)(t,200,a,"This is a static content"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),v.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,l.validateHandler)(d.staticContentSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,y.create(r)];case 1:return a=i.sent(),(0,p.default)(t,201,a,"Insert static content"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),v.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,l.validateHandler)(f.idRouteSchema,"params"),(0,l.validateHandler)(d.staticContentUpdateSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,a=e.params,o=a.id,[4,y.update(o,r)];case 1:return u=i.sent(),(0,p.default)(t,206,u,"The static content was updated successfully"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),v.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,l.validateHandler)(f.idRouteSchema,"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,y.delete(r)];case 1:return a=i.sent(),(0,p.default)(t,200,a,"Static Content with ID ".concat(r," has removed")),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=v},5396:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(3376),f=n(4376),h=a(n(178)),p=(0,o.Router)(),v=new f.StatService;p.get("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,u=r.type,[4,v.getAll(a,o,u)];case 1:return s=i.sent(),(0,h.default)(t,200,s,"The data traveled successfully 🛬🛫✈️"),[3,3];case 2:return c=i.sent(),n(c),[3,3];case 3:return[2]}}))}))})),p.get("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfully 🛬🛫✈️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",(0,s.validateHandler)(d.statSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,a=e.get("host"),[4,v.create(r,a)];case 1:return o=i.sent(),(0,h.default)(t,201,o,"The stat was created successfully 🥵"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The stat with id ".concat(r," has been removed ☹️")),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},446:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(9683),l=n(8589),d=n(1015),f=n(2837),h=a(n(178)),p=(0,o.Router)(),v=new f.TagsService;p.get("/",(0,s.validateHandler)(l.querySchema,"query"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.query,a=r.limit,o=r.offset,[4,v.getAll(a,o)];case 1:return u=i.sent(),(0,h.default)(t,200,u,"The data traveled successfull"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),p.get("/:id",(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.getById(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"The data traveled successfull"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.post("/",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)(d.tagSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,v.create(r)];case 1:return a=i.sent(),(0,h.default)(t,201,a,"The tag was created successfull 🏷️"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),p.patch("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(0,s.validateHandler)(d.UpdateTagSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,a=e.body,[4,v.update(a,r)];case 1:return o=i.sent(),(0,h.default)(t,200,o,"The tag was updated successfull 🏷️🔁"),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),p.delete("/:id",u.default.authenticate("jwt",{session:!1}),(0,c.validatePermision)(["admin"]),(0,s.validateHandler)({id:l.idSchema.required()},"params"),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.params.id,[4,v.delete(r)];case 1:return a=i.sent(),(0,h.default)(t,200,a,"Remove successfully"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),t.default=p},3630:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(3511)),s=n(7058),c=n(3447),l=n(5099),d=a(n(178)),f=(0,o.Router)(),h=new l.UsersService;f.get("/get-my-account",u.default.authenticate("jwt",{session:!1}),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.user,[4,h.getById(r.id)];case 1:return a=i.sent(),(0,d.default)(t,200,a,"This is your user's profile"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),f.post("/register",(0,s.validateHandler)(c.UserSchenma),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,h.create(r)];case 1:return a=i.sent(),(0,d.default)(t,201,a,"Register was successfull"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),f.post("/login",(0,s.validateHandler)(c.loginSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.body,[4,h.login(r)];case 1:return a=i.sent(),(0,d.default)(t,200,a,"Login successfuly"),[3,3];case 2:return o=i.sent(),n(o),[3,3];case 3:return[2]}}))}))})),f.patch("/",u.default.authenticate("jwt",{session:!1}),(0,s.validateHandler)(c.UserUpdateSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.user,a=r.id,o=e.body,[4,h.update(a,o)];case 1:return u=i.sent(),(0,d.default)(t,200,u,"User updated successfully"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),f.post("/change-email",(function(e,t,n){return r(void 0,void 0,void 0,(function(){var e,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,h.changeEmail()];case 1:return e=i.sent(),(0,d.default)(t,200,e,e),[3,3];case 2:return r=i.sent(),n(r),[3,3];case 3:return[2]}}))}))})),f.post("/change-password",u.default.authenticate("jwt",{session:!1}),(0,s.validateHandler)(c.updatePasswordSchema),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.user,a=r.id,o=e.body,[4,h.changePassword(o.oldPassword,o.newPassword,a)];case 1:return u=i.sent(),(0,d.default)(t,200,u,"Your password are updated now"),[3,3];case 2:return s=i.sent(),n(s),[3,3];case 3:return[2]}}))}))})),f.delete("/",u.default.authenticate("jwt",{session:!1}),(function(e,t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r=e.user,a=r.id,[4,h.delete(a)];case 1:return o=i.sent(),(0,d.default)(t,200,o,"Desactivate your account."),[3,3];case 2:return u=i.sent(),n(u),[3,3];case 3:return[2]}}))}))})),t.default=f},681:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connection=t.ConnectionLib=void 0;var u=n(5250),s=o(n(2275)),c=o(n(2751)),l=function(){function e(){this.options={type:"postgres",url:s.default.typeorm.url,synchronize:!1,entities:c.default,logging:!0},this.connect()}return e.prototype.getSsl=function(){return"PROD"===s.default.mode?{ssl:{rejectUnauthorized:!1}}:{}},e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=this,[4,(0,u.createConnection)(r(r({},this.options),this.getSsl()))];case 1:return e._db=t.sent(),[2,this._db]}}))}))},Object.defineProperty(e.prototype,"db",{get:function(){return this._db?this._db:this.connect()},enumerable:!1,configurable:!0}),e}();t.ConnectionLib=l,t.connection=new l},2751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9074),i=n(5642),a=n(4318),o=n(9196),u=n(6488),s=n(7052),c=n(4971),l=n(4352),d=n(4472),f=n(8416),h=n(1091),p=n(7229),v=n(7579),y=[r.Tag,o.SocialMedia,a.StaticContent,i.Stat,u.Image,s.User,c.Project,l.Job,h.Post,f.Content,d.Skill,p.IPUser,v.DatePostWithIps];t.default=y},8416:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Content=t.TypeContent=void 0;var a,o=n(5250),u=n(1091),s=n(6488);!function(e){e.subtitle="SUBTITLE",e.paragraph="PARAGRAPH",e.listForPoint="LIST-FOR-POINT",e.listForNumbers="LIST-FOR-NUMBERS",e.code="CODE",e.image="IMAGE"}(a=t.TypeContent||(t.TypeContent={}));var c=function(){function e(){}return r([(0,o.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,o.Column)({type:"enum",enum:a,nullable:!1}),i("design:type",String)],e.prototype,"type",void 0),r([(0,o.Column)({type:"int",name:"order_number",nullable:!1}),i("design:type",Number)],e.prototype,"orderNumber",void 0),r([(0,o.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"content",void 0),r([(0,o.ManyToOne)("images","contents"),(0,o.JoinColumn)(),i("design:type",s.Image)],e.prototype,"image",void 0),r([(0,o.ManyToOne)("posts","contents"),i("design:type",u.Post)],e.prototype,"post",void 0),r([(0,o.Entity)({name:"contents"})],e)}();t.Content=c},7579:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatePostWithIps=void 0;var a=n(5250),o=n(7229),u=n(1091),s=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"timestamptz",default:new Date,nullable:!1}),i("design:type",Date)],e.prototype,"lastView",void 0),r([(0,a.Column)({type:"int",default:0,nullable:!1}),i("design:type",Number)],e.prototype,"quantityViews",void 0),r([(0,a.Column)({type:"boolean",default:!1,nullable:!1}),i("design:type",Boolean)],e.prototype,"likedPost",void 0),r([(0,a.ManyToOne)("posts","datePostWithIps"),(0,a.JoinColumn)(),i("design:type",u.Post)],e.prototype,"post",void 0),r([(0,a.ManyToOne)("ips_user","datePostWithIps"),(0,a.JoinColumn)(),i("design:type",o.IPUser)],e.prototype,"ip",void 0),r([(0,a.Entity)({name:"date_posts_with_ips"})],e)}();t.DatePostWithIps=s},6488:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var a=n(5250),o=n(8416),u=n(4352),s=n(4971),c=n(4472),l=n(7052),d=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"image_url"}),i("design:type",String)],e.prototype,"imageUrl",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"size",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"resolution",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"md5",void 0),r([(0,a.OneToMany)("contents","image",{nullable:!0}),i("design:type",o.Content)],e.prototype,"contents",void 0),r([(0,a.OneToMany)("jobs","image",{nullable:!0}),i("design:type",u.Job)],e.prototype,"jobs",void 0),r([(0,a.OneToMany)("projects","image",{nullable:!0}),i("design:type",s.Project)],e.prototype,"projects",void 0),r([(0,a.OneToMany)("skills","image",{nullable:!0}),i("design:type",c.Skill)],e.prototype,"skills",void 0),r([(0,a.OneToMany)("users","image",{nullable:!0}),i("design:type",l.User)],e.prototype,"users",void 0),r([(0,a.Entity)({name:"images"})],e)}();t.Image=d},7229:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IPUser=void 0;var a=n(5250),o=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"ip",void 0),r([(0,a.OneToMany)("date_posts_with_ips","ip",{nullable:!0}),(0,a.JoinColumn)(),i("design:type",Array)],e.prototype,"datePostWithIps",void 0),r([(0,a.Entity)({name:"ips_user"})],e)}();t.IPUser=o},4352:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Job=void 0;var a=n(5250),o=n(6488),u=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"name_businness"}),i("design:type",String)],e.prototype,"nameBusinness",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"color",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"description",void 0),r([(0,a.Column)({type:"boolean",nullable:!1}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"role",void 0),r([(0,a.Column)({type:"timestamp",nullable:!1}),i("design:type",a.Timestamp)],e.prototype,"from",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"to",void 0),r([(0,a.Column)({type:"varchar",name:"function_1",nullable:!0}),i("design:type",String)],e.prototype,"function1",void 0),r([(0,a.Column)({type:"varchar",name:"function_2",nullable:!0}),i("design:type",String)],e.prototype,"function2",void 0),r([(0,a.Column)({type:"varchar",name:"function_3",nullable:!0}),i("design:type",String)],e.prototype,"function3",void 0),r([(0,a.Column)({type:"varchar",name:"function_4",nullable:!0}),i("design:type",String)],e.prototype,"function4",void 0),r([(0,a.ManyToOne)("images","jobs"),i("design:type",o.Image)],e.prototype,"image",void 0),r([(0,a.Entity)({name:"jobs"})],e)}();t.Job=u},1091:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Post=void 0;var a=n(5250),o=n(7052),u=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"title",void 0),r([(0,a.Column)({type:"timestamp",name:"created_at",default:new Date}),i("design:type",a.Timestamp)],e.prototype,"createdAt",void 0),r([(0,a.Column)({type:"double precision",name:"time_read",nullable:!1}),i("design:type",Number)],e.prototype,"timeRead",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.ManyToOne)("users","posts"),i("design:type",o.User)],e.prototype,"user",void 0),r([(0,a.OneToMany)("contents","post"),i("design:type",Array)],e.prototype,"contents",void 0),r([(0,a.OneToMany)("date_posts_with_ips","post",{nullable:!0}),i("design:type",Array)],e.prototype,"datePostWithIps",void 0),r([(0,a.OneToMany)("stats","post",{nullable:!0}),(0,a.JoinColumn)(),i("design:type",Array)],e.prototype,"stats",void 0),r([(0,a.ManyToMany)("tags","posts",{nullable:!0}),(0,a.JoinTable)({name:"CONNECTION_TAGS_TO_POSTS"}),i("design:type",Array)],e.prototype,"tags",void 0),r([(0,a.Entity)({name:"posts"})],e)}();t.Post=u},4971:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0;var a=n(5250),o=n(6488),u=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"name",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"description",void 0),r([(0,a.Column)({type:"varchar",name:"link_frontend",nullable:!1}),i("design:type",String)],e.prototype,"linkFrontend",void 0),r([(0,a.Column)({type:"varchar",name:"link_backend",default:null}),i("design:type",String)],e.prototype,"linkBackend",void 0),r([(0,a.Column)({type:"varchar",name:"link_blog",default:null}),i("design:type",String)],e.prototype,"linkBlog",void 0),r([(0,a.Column)({type:"varchar",name:"link_figma",default:null}),i("design:type",String)],e.prototype,"linkFigma",void 0),r([(0,a.Column)({type:"varchar",name:"link_repository",nullable:!1}),i("design:type",String)],e.prototype,"linkRepository",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.ManyToOne)("images","projects"),i("design:type",o.Image)],e.prototype,"image",void 0),r([(0,a.ManyToMany)("skills",{nullable:!0}),(0,a.JoinTable)({name:"CONNECTION_PROJECTS_TO_KILLS"}),i("design:type",Array)],e.prototype,"skills",void 0),r([(0,a.Entity)({name:"projects"})],e)}();t.Project=u},4472:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Skill=void 0;var a=n(5250),o=n(6488),u=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"name",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"background_color"}),i("design:type",String)],e.prototype,"backgroundColor",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"icon_color"}),i("design:type",String)],e.prototype,"iconColor",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.Column)({type:"varchar",default:null}),i("design:type",String)],e.prototype,"icon",void 0),r([(0,a.ManyToOne)("images","skills",{nullable:!0}),i("design:type",o.Image)],e.prototype,"image",void 0),r([(0,a.Entity)({name:"skills"})],e)}();t.Skill=u},9196:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SocialMedia=void 0;var a=n(5250),o=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"name",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"icon",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"color",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"redirect_url"}),i("design:type",String)],e.prototype,"redirectUrl",void 0),r([(0,a.Entity)({name:"social-media"})],e)}();t.SocialMedia=o},4318:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticContent=void 0;var a=n(5250),o=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"introduction",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,name:"response_question"}),i("design:type",String)],e.prototype,"responseQuestion",void 0),r([(0,a.Column)({type:"varchar",name:"contact_email"}),i("design:type",String)],e.prototype,"contactEmail",void 0),r([(0,a.Entity)({name:"static-contents"})],e)}();t.StaticContent=o},5642:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Stat=t.TypeStat=void 0;var a,o=n(5250),u=n(1091);!function(e){e.newUsers="NU",e.visitsToTheBlogPost="VTTBP",e.visitsToThePortafolioPage="VTTPP",e.visitsToTheContactPage="VTTCP",e.numberOfClickWhenSubmittingTheForm="NOCWSTF"}(a=t.TypeStat||(t.TypeStat={}));var s=function(){function e(){}return r([(0,o.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,o.Column)({type:"enum",enum:a,nullable:!1}),i("design:type",String)],e.prototype,"type",void 0),r([(0,o.Column)({type:"timestamp",name:"created_at",nullable:!1,default:new Date}),i("design:type",o.Timestamp)],e.prototype,"createdAt",void 0),r([(0,o.ManyToOne)("posts","stats",{nullable:!0}),(0,o.JoinColumn)(),i("design:type",u.Post)],e.prototype,"post",void 0),r([(0,o.Entity)({name:"stats"})],e)}();t.Stat=s},9074:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var a=n(5250),o=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"color",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"text",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.ManyToMany)("posts","tags",{nullable:!0}),i("design:type",Array)],e.prototype,"posts",void 0),r([(0,a.Entity)({name:"tags"})],e)}();t.Tag=o},7052:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var a=n(5250),o=n(6488),u=function(){function e(){}return r([(0,a.PrimaryGeneratedColumn)(),i("design:type",String)],e.prototype,"id",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"username",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"password",void 0),r([(0,a.Column)({type:"varchar",nullable:!1}),i("design:type",String)],e.prototype,"name",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,default:"NOT-DEFINED"}),i("design:type",String)],e.prototype,"job",void 0),r([(0,a.Column)({type:"boolean",default:!0}),i("design:type",Boolean)],e.prototype,"active",void 0),r([(0,a.Column)({type:"varchar",nullable:!1,unique:!0}),i("design:type",String)],e.prototype,"email",void 0),r([(0,a.ManyToOne)("images","users"),i("design:type",o.Image)],e.prototype,"image",void 0),r([(0,a.OneToMany)("posts","user",{nullable:!0}),i("design:type",Array)],e.prototype,"posts",void 0),r([(0,a.Entity)({name:"users"})],e)}();t.User=u},9844:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.app=void 0;var i=n(4324),a=r(n(2275));t.app=(0,i.initializeApp)(a.default.firebaseConfig)},7017:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUriFromFile=t.uploadStorage=void 0;var a=n(1668),o=n(9844),u=(0,a.getStorage)(o.app);t.uploadStorage=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=(0,a.ref)(u,"images/".concat(e)),[4,(0,a.uploadBytes)(n,t)];case 1:return[2,r.sent()]}}))}))},t.getUriFromFile=function(e,t){return void 0===t&&(t="images"),r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=(0,a.ref)(u,"".concat(t,"/").concat(e)),[4,(0,a.getDownloadURL)(n)];case 1:return[2,r.sent()]}}))}))}},3607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(3236),n(681),n(3370);var i=r(n(6860)),a=r(n(3582)),o=r(n(6674)),u=n(3618),s=r(n(2275)),c=r(n(8479)),l=n(3341),d=n(6504),f=(0,i.default)();f.use((0,a.default)({origin:s.default.hostAllowedList})),f.use((0,o.default)({createParentPath:!0})),f.use(i.default.json()),f.set("trust proxy",!0),(0,u.setupSwagger)(f),(0,c.default)(f),f.use(l.logErrors),f.use(l.wrapError),f.use(d.notFoundMiddleware),f.use(l.errorHandler),f.listen(s.default.port,(function(){console.log("App runing on http://localhost:3000")}))},9683:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validatePermision=void 0;var i=r(n(3767));t.validatePermision=function(e){return function(t,n,r){var a=t.user;(!a||a&&!a.role)&&r(i.default.unauthorized("Missing token or roles")),e.find((function(e){return e===a.role}))||r(i.default.unauthorized("Your role is not sufficient for access this route")),r()}}},3341:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandler=t.wrapError=t.logErrors=void 0;var i=r(n(3767)),a=r(n(2275)),o=r(n(178));t.logErrors=function(e,t,n,r){"DEV"===a.default.mode&&console.log(e),r(e)},t.wrapError=function(e,t,n,r){e.isBoom?r(e):r(i.default.badImplementation(e.message))},t.errorHandler=function(e,t,n,r){var i=e.output,a=i.statusCode;i.payload,(0,o.default)(n,a||500,{},e.message)}},6504:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notFoundMiddleware=void 0;var r=n(3767);t.notFoundMiddleware=function(e,t,n){n((0,r.notFound)("The rute of API doesn't exist 🧑‍🏫"))}},7058:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.validateHandler=void 0;var o=a(n(8414)),u=n(3767);t.validateHandler=function(e,t){return void 0===t&&(t="body"),function(n,r,i){var a=n[t],s=function(e,t){return o.object(e).validate(t).error}(e,a);s&&i((0,u.badRequest)(s.message)),i()}}},8479:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6860),u=a(n(7963)),s=a(n(3630)),c=a(n(1869)),l=a(n(4879)),d=a(n(446)),f=a(n(4930)),h=a(n(4207)),p=a(n(7140)),v=a(n(3941)),y=a(n(6124)),b=a(n(9101)),m=a(n(5396));t.default=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){return(t=(0,o.Router)()).use("/static-contents",u.default),t.use("/users",s.default),t.use("/images",c.default),t.use("/jobs",l.default),t.use("/tags",d.default),t.use("/posts",f.default),t.use("/contents",h.default),t.use("/ips",p.default),t.use("/skills",v.default),t.use("/projects",y.default),t.use("/social-media",b.default),t.use("/stats",m.default),e.use("/api",t),[2]}))}))}},4890:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentService=void 0;var u=o(n(3767)),s=n(681),c=n(8416),l=n(1091),d=n(2126),f=n(5784),h=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Content),this.dbPost=e.getRepository(l.Post),this.imageService=new f.ImageService,[2]}}))}))},e.prototype.getPostById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.dbPost.findOne(e)];case 1:if(!(t=n.sent()))throw u.default.notFound("The post with ID "+e+" doesn't exist");return[2,t]}}))}))},e.prototype.incrementOrDecrementTimeReadOfPost=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return e.timeRead=e.timeRead+t,[4,this.dbPost.save(e)];case 1:return[2,n.sent()]}}))}))},e.prototype.calculateSecondsOfContent=function(e){return e.length/400*60},e.prototype.getAll=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o,u;return a(this,(function(a){switch(a.label){case 0:return i=(0,d.convertQueryParamsInOptions)(e,t),o=[],n?[4,this.getPostById(n)]:[3,3];case 1:return u=a.sent(),[4,this.db.find(r(r({},i),{where:{post:u},relations:["image","post"]}))];case 2:return o=a.sent(),[3,5];case 3:return[4,this.db.find(r(r({},i),{relations:["image","post"]}))];case 4:o=a.sent(),a.label=5;case 5:return[2,o]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["image","post"]})];case 1:if(!(t=n.sent()))throw u.default.notFound("This content of post doesn't exist 🚫");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.getAll("999","0",e.postId)];case 1:return t=a.sent(),[4,this.imageService.getById(e.imageId)];case 2:return n=a.sent(),[4,this.getPostById(e.postId)];case 3:return r=a.sent(),(i=this.db.create(e)).orderNumber=t.length+1,i.image=n,i.post=r,[4,this.incrementOrDecrementTimeReadOfPost(r,this.calculateSecondsOfContent(i.content))];case 4:return a.sent(),[4,this.db.save(i)];case 5:return[2,a.sent()]}}))}))},e.prototype.update=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o,u,s;return a(this,(function(a){switch(a.label){case 0:return[4,this.getById(t)];case 1:return i=a.sent(),e.content?(o=this.calculateSecondsOfContent(i.content),u=this.calculateSecondsOfContent(e.content),[4,this.incrementOrDecrementTimeReadOfPost(i.post,u-o)]):[3,3];case 2:a.sent(),a.label=3;case 3:return i=r(r(r({},i),e),{orderNumber:n||i.orderNumber}),e.imageId?[4,this.imageService.getById(e.imageId)]:[3,5];case 4:s=a.sent(),i.image=s,a.label=5;case 5:return[2,this.db.save(i)]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,o,u;return a(this,(function(a){switch(a.label){case 0:return[4,this.getById(e)];case 1:return t=a.sent(),[4,this.getAll("999","0",t.post.id)];case 2:n=a.sent(),r=n.filter((function(e,n){return n>=t.orderNumber})),i=0,o=r,a.label=3;case 3:return i<o.length?(u=o[i],[4,this.update({},u.id,u.orderNumber-1)]):[3,6];case 4:a.sent(),a.label=5;case 5:return i++,[3,3];case 6:return[4,this.incrementOrDecrementTimeReadOfPost(n[0].post,this.calculateSecondsOfContent(t.content)/-1)];case 7:return a.sent(),[2,this.db.delete(e)]}}))}))},e}();t.ContentService=h},1060:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatePostsWithIpsService=void 0;var u=o(n(3767)),s=n(681),c=n(7579),l=n(7229),d=n(5642),f=n(7440),h=n(4376),p=n(2126),v=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.DatePostWithIps),this.dbIp=e.getRepository(l.IPUser),this.postService=new f.PostsService,this.statService=new h.StatService,[2]}}))}))},e.prototype.getByPostAndIp=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne({where:{post:e,ip:t},relations:["ip","post"]})];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,p.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{relations:["post","ip"]}))];case 1:return[2,i.sent()]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return[4,this.postService.getById(e.postId)];case 1:return t=i.sent(),[4,this.dbIp.findOneOrFail(e.ipId)];case 2:return n=i.sent(),(r=this.db.create()).post=t,r.ip=n,[4,this.db.save(r)];case 3:return[2,i.sent()]}}))}))},e.prototype.setLike=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,this.postService.getById(t)];case 1:return r=a.sent(),[4,this.dbIp.findOneOrFail({ip:n})];case 2:return i=a.sent(),[4,this.getByPostAndIp(r,i)];case 3:if(!(o=a.sent()))throw u.default.badRequest("Want you like this post without see it post? 🤔🤔");return o.likedPost=e,[2,o]}}))}))},e.prototype.incrementView=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return[4,this.postService.getById(e)];case 1:return n=a.sent(),[4,this.dbIp.findOneOrFail({ip:t})];case 2:return r=a.sent(),[4,this.getByPostAndIp(n,r)];case 3:return(i=a.sent())?[3,5]:[4,this.create({postId:e,ipId:r.id})];case 4:i=a.sent(),a.label=5;case 5:if(o=new Date(i.lastView.toString()),(s=new Date).getTime()-o.getTime()<6e5)throw u.default.locked("Hmmmmmmmmm.... 😣");return i.quantityViews=i.quantityViews+1,i.lastView=s,[4,this.statService.create({type:d.TypeStat.visitsToTheBlogPost,postId:e})];case 6:return a.sent(),[4,this.db.save(i)];case 7:return[2,a.sent()]}}))}))},e}();t.DatePostsWithIpsService=v},5784:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageService=void 0;var o=a(n(3767)),u=n(681),s=n(6488),c=n(2126),l=n(7017),d=function(){function e(){this.connect()}return e.prototype.connect=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,u.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(s.Image),[2]}}))}))},e.prototype.getResolutionBySize=function(e){var t=e.split("x"),n=t[0],r=t[1],i=parseInt(n,10)/parseInt(r,10);return i.toFixed(4)},e.prototype.getById=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e)];case 1:if(!(t=n.sent()))throw o.default.notFound("This image is not exist in this database");return[2,t]}}))}))},e.prototype.getByMd5=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne({md5:e})];case 1:if(!(t=n.sent()))throw o.default.notFound("This image is not exist in this database");return[2,t]}}))}))},e.prototype.getAll=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=(0,c.convertQueryParamsInOptions)(e,t),[4,this.db.find(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.create=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,u,s;return i(this,(function(i){switch(i.label){case 0:if(!t)throw o.default.notAcceptable("The image? 🤨");if(Array.isArray(t))throw o.default.notAcceptable("The image is only one 👀");return n=t.data,r=t.md5,[4,this.db.findOne({md5:r})];case 1:if(a=i.sent())throw o.default.conflict("This image already exist, the ID is "+a.id);return[4,(0,l.uploadStorage)(r,n)];case 2:return i.sent(),[4,(0,l.getUriFromFile)(r)];case 3:return u=i.sent(),[4,this.db.create(e)];case 4:return(s=i.sent()).imageUrl=u,s.resolution=this.getResolutionBySize(s.size),s.md5=r,[4,this.db.save(s)];case 5:return[2,i.sent()]}}))}))},e.prototype.delete=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.getById(e)];case 1:return t.sent(),[4,this.db.delete(e)];case 2:return t.sent(),[2,"This image with for ID ".concat(e," was deleted")]}}))}))},e}();t.ImageService=d},9597:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IpsUserService=void 0;var u=o(n(3767)),s=n(681),c=n(7229),l=n(2126),d=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.IPUser),[2]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,l.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{relations:["datePostWithIps"]}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getByIp=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne({ip:e},{relations:["datePostWithIps"]})];case 1:if(!(t=n.sent()))throw u.default.notFound("This IP doesn't exist 🙃");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t=this.db.create(e),[4,this.db.save(t)];case 1:return[2,n.sent()]}}))}))},e}();t.IpsUserService=d},3139:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JobsService=void 0;var o=a(n(3767)),u=n(5784),s=n(681),c=n(4352),l=function(){function e(){this.connect(),this.imageService=new u.ImageService}return e.prototype.connect=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Job),[2]}}))}))},e.prototype.getAll=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.db.find({relations:["image"]})];case 1:return[2,e.sent()]}}))}))},e.prototype.getById=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["image"]})];case 1:if(!(t=n.sent()))throw o.default.notFound("This job doesn't exist");return[2,t]}}))}))},e.prototype.create=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.getAll()];case 1:return t=i.sent(),[4,this.imageService.getById(e.imageId)];case 2:if(n=i.sent(),t.length>=2)throw o.default.notAcceptable("The maximun jobs is 2. Update the jobs is the best way");return(r=this.db.create(e)).image=n,[4,this.db.save(r)];case 3:return[2,i.sent()]}}))}))},e.prototype.update=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.getById(e)];case 1:return n=i.sent(),t.imageId?(r=n,[4,this.imageService.getById(t.imageId)]):[3,4];case 2:return r.image=i.sent(),delete t.imageId,[4,this.db.save(n)];case 3:i.sent(),i.label=4;case 4:return[4,this.db.update(n.id,t)];case 5:return i.sent(),[2]}}))}))},e.prototype.deactivate=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:if(!(t=n.sent()).active)throw o.default.conflict("This job already deactivate");return[4,this.db.update(t.id,{active:!1})];case 2:return n.sent(),[2]}}))}))},e.prototype.activate=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:if((t=n.sent()).active)throw o.default.conflict("This job already activate");return[4,this.db.update(t.id,{active:!0})];case 2:return n.sent(),[2]}}))}))},e}();t.JobsService=l},7440:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostsService=void 0;var u=o(n(3767)),s=n(681),c=n(1091),l=n(2126),d=n(2837),f=n(5099),h=n(2405),p=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Post),this.tagsService=new d.TagsService,this.userService=new f.UsersService,[2]}}))}))},e.prototype.getTags=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:t=[],n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],[4,this.tagsService.getById(i)]):[3,4];case 2:o=a.sent(),t.push(o),a.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,l.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{where:{active:!0},relations:["user","contents","tags"]}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["user","contents","tags"]})];case 1:if(!(t=n.sent())||!t.active)throw u.default.notFound("The post is not exist 🤭");return[2,t]}}))}))},e.prototype.create=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.userService.getById(t)];case 1:return n=a.sent(),(r=this.db.create(e)).timeRead=0,r.user=n,[4,this.getTags(e.tagsId)];case 2:return i=a.sent(),r.tags=i,[4,this.db.save(r)];case 3:return[2,a.sent()]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,u,s;return a(this,(function(a){switch(a.label){case 0:return[4,this.getById(t)];case 1:return n=a.sent(),e.tagsId?(i=e.tagsId,o=(0,h.getNotRepeatInManyToManyRelations)(i,n.tags),[4,this.getTags(o)]):[3,3];case 2:u=a.sent(),(s=n.tags).push.apply(s,u),a.label=3;case 3:return n=r(r({},n),e),[4,this.db.save(n)];case 4:return[2,a.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return(t=n.sent()).active=!1,[2,this.db.save(t)]}}))}))},e}();t.PostsService=p},6795:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectService=void 0;var u=o(n(3767)),s=n(681),c=n(4971),l=n(5784),d=n(7444),f=n(2405),h=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Project),this.imageService=new l.ImageService,this.skillService=new d.SkillService,[2]}}))}))},e.prototype.getAll=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.db.find({relations:["image","skills"]})];case 1:return[2,e.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["skills","image"]})];case 1:if(!(t=n.sent()))throw u.default.notFound("This Project doesn't exist");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,o,s,c;return a(this,(function(a){switch(a.label){case 0:return[4,this.getAll()];case 1:if(a.sent().length>2)throw u.default.illegal("No! The max length is 3 💢");return[4,this.imageService.getById(e.imageId)];case 2:t=a.sent(),n=[],r=0,i=e.skillsIds,a.label=3;case 3:return r<i.length?(o=i[r],[4,this.skillService.getById(o)]):[3,6];case 4:s=a.sent(),n.push(s),a.label=5;case 5:return r++,[3,3];case 6:return(c=this.db.create(e)).image=t,c.skills=n,[4,this.db.save(c)];case 7:return[2,a.sent()]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,u,s,c,l;return a(this,(function(a){switch(a.label){case 0:return[4,this.getById(t)];case 1:return n=a.sent(),e.imageId?(i=n,[4,this.imageService.getById(e.imageId)]):[3,3];case 2:i.image=a.sent(),a.label=3;case 3:if(!e.skillsIds)return[3,7];o=(0,f.getNotRepeatInManyToManyRelations)(e.skillsIds,n.skills),u=0,s=o,a.label=4;case 4:return u<s.length?(c=s[u],[4,this.skillService.getById(c)]):[3,7];case 5:l=a.sent(),n.skills.push(l),a.label=6;case 6:return u++,[3,4];case 7:return n=r(r({},n),e),[4,this.db.save(n)];case 8:return[2,a.sent()]}}))}))},e.prototype.activateProject=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return(t=n.sent()).active=!0,[4,this.db.save(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return(t=n.sent()).active=!1,[4,this.db.save(t)];case 2:return[2,n.sent()]}}))}))},e}();t.ProjectService=h},7444:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SkillService=void 0;var u=o(n(3767)),s=n(681),c=n(4472),l=n(2126),d=n(5784),f=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Skill),this.imageService=new d.ImageService,[2]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,l.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{where:{active:!0},relations:["image"]}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e)];case 1:if(!(t=n.sent())||!t.active)throw u.default.notFound("The skill doesn't exist ✏️");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:if(e.imageId&&e.icon||!e.imageId&&!e.icon)throw u.default.conflict("Only one parameter is exist");return[4,this.db.findOne({name:e.name})];case 1:return!(t=i.sent())||t.active?[3,3]:[4,this.update(e,t.id)];case 2:return[2,i.sent()];case 3:return n=null,e.imageId?[4,this.imageService.getById(e.imageId)]:[3,5];case 4:n=i.sent(),i.label=5;case 5:return[4,this.db.create(e)];case 6:return(r=i.sent()).image=n,[4,this.db.save(r)];case 7:return[2,i.sent()]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n,i;return a(this,(function(a){switch(a.label){case 0:if(e.imageId&&e.icon)throw u.default.conflict("Only one parameter is exist");return[4,this.getById(t)];case 1:return(n=a.sent()).active=!0,e.imageId?(i=n,[4,this.imageService.getById(e.imageId)]):[3,3];case 2:i.image=a.sent(),n.icon=null,a.label=3;case 3:return e.icon&&(n.image=null,n.icon=e.icon),n=r(r({},n),e),[4,this.db.save(n)];case 4:return[2,a.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return(t=n.sent()).active=!1,[4,this.db.save(t)];case 2:return n.sent(),[2,{}]}}))}))},e}();t.SkillService=f},1307:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocialMediaService=void 0;var u=o(n(3767)),s=n(681),c=n(9196),l=n(2126),d=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.SocialMedia),[2]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,l.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{where:{active:!0}}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e)];case 1:if(!(t=n.sent())||!t.active)throw u.default.notFound("This social media doesn't exist ☹️");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(i){switch(i.label){case 0:return[4,this.db.findOne({name:e.name})];case 1:return!(t=i.sent())||t.active?[3,3]:(t=r(r({},t),e),[4,this.db.save(t)]);case 2:case 4:return[2,i.sent()];case 3:return n=this.db.create(e),[4,this.db.save(n)]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,this.getById(t)];case 1:return n=r.sent(),[4,this.db.update(n.id,e)];case 2:return[2,r.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return(t=n.sent()).active=!1,[4,this.db.save(t)];case 2:return[2,n.sent()]}}))}))},e}();t.SocialMediaService=d},4376:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatService=void 0;var u=o(n(3767)),s=o(n(2275)),c=n(681),l=n(5642),d=n(1091),f=n(2126),h=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,c.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(l.Stat),this.dbPost=e.getRepository(d.Post),[2]}}))}))},e.prototype.getAll=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:return[4,(0,f.convertQueryParamsInOptions)(e,t)];case 1:return i=a.sent(),o=r(r({},i),{relations:["post"]}),n&&(o.where={type:n}),[4,this.db.find(o)];case 2:return[2,a.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["post"]})];case 1:if(!(t=n.sent()))throw u.default.notFound("The stat with ID: ".concat(e," doesn't exist"));return[2,t]}}))}))},e.prototype.create=function(e,t){return i(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:if(t&&!s.default.hostAllowedList.includes(t))throw u.default.forbidden("🤨🤨🤨");return n=this.db.create(e),e.postId?(r=n,[4,this.dbPost.findOneOrFail(e.postId)]):[3,2];case 1:r.post=i.sent(),i.label=2;case 2:return[4,this.db.save(n)];case 3:return[2,i.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return t=n.sent(),[4,this.db.delete(t.id)];case 2:return[2,n.sent()]}}))}))},e}();t.StatService=h},1200:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticContentsService=void 0;var u=n(5250),s=o(n(3767)),c=n(681),l=n(4318),d=n(2126),f=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,c.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(l.StaticContent),[2]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e)];case 1:if(!(t=n.sent()))throw s.default.notFound("The static content was not found");return[2,t]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=(0,d.convertQueryParamsInOptions)(e,t),[4,this.db.find(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.getOne=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return"contact"!==e?[3,2]:[4,this.db.findOne({contactEmail:(0,u.Not)((0,u.IsNull)())})];case 1:return[2,t.sent()];case 2:throw s.default.notFound("This page isn't exist")}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return e.contactEmail?[4,this.getOne("contact")]:[3,2];case 1:if(n.sent())throw s.default.conflict("The contact page already exist");n.label=2;case 2:return[4,this.db.create(e)];case 3:return t=n.sent(),[4,this.db.save(t)];case 4:return[2,n.sent()]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return[4,this.getById(e)];case 1:return n=i.sent(),[4,this.db.update(n.id,t)];case 2:return i.sent(),[2,r(r({},n),t)]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return t=n.sent(),[4,this.db.delete(t.id)];case 2:return n.sent(),[2,"Removed successfully"]}}))}))},e}();t.StaticContentsService=f},2837:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TagsService=void 0;var u=o(n(3767)),s=n(681),c=n(9074),l=n(2126),d=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(c.Tag),[2]}}))}))},e.prototype.getAll=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return n=(0,l.convertQueryParamsInOptions)(e,t),[4,this.db.find(r(r({},n),{relations:["posts"]}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["posts"]})];case 1:if(!(t=n.sent())||!t.active)throw u.default.notFound("The tag was not found");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(i){switch(i.label){case 0:return[4,this.db.findOne({text:e.text})];case 1:return!(t=i.sent())||t.active?[3,3]:(t.active=!0,t=r(r({},t),e),[4,this.db.save(t)]);case 2:case 4:return[2,i.sent()];case 3:return n=this.db.create(e),[4,this.db.save(n)]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return[4,this.getById(t)];case 1:return n=i.sent(),[4,this.db.update(n.id,e)];case 2:return i.sent(),[2,r(r({},n),e)]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:if(!(t=n.sent()).active)throw u.default.notFound("This tag doesn't exist");return t.posts=[],t.active=!1,[2,this.db.save(t)]}}))}))},e}();t.TagsService=d},5099:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersService=void 0;var u=o(n(3767)),s=n(681),c=n(5784),l=n(7052),d=n(9189),f=n(1913),h=function(){function e(){this.connect()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.connection.db];case 1:return e=t.sent(),this.db=e.getRepository(l.User),this.imageService=new c.ImageService,[2]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.db.findOne(e,{relations:["image"]})];case 1:if(!(t=n.sent())||!t.active)throw u.default.notFound("User not found");return[2,t]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,this.imageService.getById(e.imageId)];case 1:return t=a.sent(),console.log(1),[4,(0,d.encryption)(e.password)];case 2:return n=a.sent(),console.log(1),[4,this.db.create(r(r({},e),{password:n}))];case 3:return(i=a.sent()).image=t,[4,this.db.save(i)];case 4:return o=a.sent(),[2,this.quitPasswordFromReturnData(o)]}}))}))},e.prototype.login=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return console.log(1),[4,this.db.findOne({email:e.email},{relations:["image"]})];case 1:if(t=a.sent(),console.log(1),!t||!t.active)throw u.default.notFound("This user doesn't exist");return[4,(0,d.verifyPassword)(e.password,t.password)];case 2:if(n=a.sent(),console.log(1),!n)throw u.default.unauthorized("You're not this user 👎🙅‍♂️🙅‍♀️");return console.log(1),r={id:t.id,role:"wilmion92@gmail.com"===t.email?"admin":"customer"},console.log(1),i={user:this.quitPasswordFromReturnData(t)},[4,(0,f.generateToken)(r)];case 3:return[2,(i.token=a.sent(),i)]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return t.imageId?[4,this.comprobateImageId(t.imageId)]:[3,2];case 1:r.sent(),r.label=2;case 2:if(t.password||t.email)throw u.default.conflict("The password or email is not change");return[4,this.getById(e)];case 3:return n=r.sent(),[4,this.db.update(n.id,t)];case 4:return[2,r.sent()]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getById(e)];case 1:return t=n.sent(),[2,this.db.update(t.id,r(r({},t),{active:!1}))]}}))}))},e.prototype.changeEmail=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,"This function for now, it not exist"]}))}))},e.prototype.changePassword=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.getById(n)];case 1:return r=a.sent(),[4,(0,d.verifyPassword)(e,r.password)];case 2:if(!a.sent())throw u.default.unauthorized("You're not have property of this user 🤔🙄😑");return[4,(0,d.encryption)(t)];case 3:return i=a.sent(),[2,this.db.update(n,{password:i})]}}))}))},e.prototype.comprobateImageId=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.imageService.getById(e)];case 1:if(!t.sent())throw u.default.notFound("Image entity does not exist");return[2]}}))}))},e.prototype.quitPasswordFromReturnData=function(e){return r(r({},e),{password:""})},e}();t.UsersService=h},3370:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3511)),a=n(5360);i.default.use("jwt",a.jwtStrategy)},5360:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.jwtStrategy=void 0;var o=n(136),u=a(n(3767)),s=a(n(2275)),c=new(n(5099).UsersService);t.jwtStrategy=new o.Strategy({secretOrKey:s.default.jwt.secret,jwtFromRequest:o.ExtractJwt.fromAuthHeaderAsBearerToken()},(function(e,t){return r(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.getById(e.id)];case 1:return r.sent(),t(null,e),[3,3];case 2:return n=r.sent(),[2,t(u.default.unauthorized(n))];case 3:return[2]}}))}))}))},3618:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupSwagger=void 0;var i=r(n(7777)),a=r(n(9948)),o={definition:{openapi:"3.0.0",info:{title:"WILMION API",version:"1.0.0",description:"A simple express library API"},servers:[{url:"http://localhost:3000/api"}]},apis:["./src/swagger/*.ts"]};t.setupSwagger=function(e){var t=(0,i.default)(o);e.use("/docs",a.default.serve,a.default.setup(t))}},2126:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertQueryParamsInOptions=void 0,t.convertQueryParamsInOptions=function(e,t){return{take:e?parseInt(e,10):20,skip:t?parseInt(t,10):0}}},5033:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToArray=void 0,t.ToArray=function(e){return Object.keys(e).filter((function(e){return!1===isNaN(Number(e))})).map((function(t){return e[t]}))}},2405:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNotRepeatInManyToManyRelations=void 0,t.getNotRepeatInManyToManyRelations=function(e,t){return e.filter((function(e){var n=!0;return t.forEach((function(t){String(t.id)===e&&(n=!1)})),n}))}},1913:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateToken=void 0;var o=a(n(9344)),u=a(n(2275));t.generateToken=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,o.default.sign(e,u.default.jwt.secret,{expiresIn:"8h"})]}))}))}},178:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i={status:t,message:r,payload:n};e.status(t).json(i)}},9189:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.verifyPassword=t.encryption=void 0;var o=a(n(8432)),u=a(n(2275));t.encryption=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,o.default.genSalt(u.default.encryption.saltRounds)];case 1:return t=n.sent(),[4,o.default.hash(e,t)];case 2:return[2,n.sent()]}}))}))},t.verifyPassword=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,o.default.compare(e,t)];case 1:return[2,n.sent()]}}))}))}},3767:e=>{e.exports=require("@hapi/boom")},8414:e=>{e.exports=require("@hapi/joi")},8432:e=>{e.exports=require("bcryptjs")},3582:e=>{e.exports=require("cors")},5142:e=>{e.exports=require("dotenv")},6860:e=>{e.exports=require("express")},6674:e=>{e.exports=require("express-fileupload")},4324:e=>{e.exports=require("firebase/app")},1668:e=>{e.exports=require("firebase/storage")},9344:e=>{e.exports=require("jsonwebtoken")},3511:e=>{e.exports=require("passport")},136:e=>{e.exports=require("passport-jwt")},3236:e=>{e.exports=require("reflect-metadata")},7777:e=>{e.exports=require("swagger-jsdoc")},9948:e=>{e.exports=require("swagger-ui-express")},5250:e=>{e.exports=require("typeorm")}},t={},n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(3607),r=exports;for(var i in n)r[i]=n[i];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();